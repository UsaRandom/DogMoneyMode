(()=>{"use strict";let e=new class{constructor(){this.localStorageKey="dmm-app-state"}async setAppState(e){const t={};return t[this.localStorageKey]=e,new Promise(((e,o)=>{chrome.storage.local.set(t,(()=>{if(chrome.runtime.lastError)return o(chrome.runtime.lastError);e()}))}))}async getAppState(){return new Promise(((e,t)=>{chrome.storage.local.get(this.localStorageKey,(o=>{if(chrome.runtime.lastError)return t(chrome.runtime.lastError);e(o[this.localStorageKey]||{dogMoneyModeEnabled:!1,comicSansModeEnabled:!1})}))}))}};!async function(){try{let t=await e.getAppState(),o=document.getElementById("dogmoneymode-toggle");o.checked=t.dogMoneyModeEnabled,o.addEventListener("change",(function(o){t.dogMoneyModeEnabled=o.target.checked,e.setAppState(t)}))}catch(e){console.error(e)}}()})();